{
  "presets": [
    ["@babel/preset-env", {
      "modules": false
    }]
  ],

  "plugins": [ // es6 build
    // "@babel/syntax-object-rest-spread",
    "@babel/plugin-proposal-object-rest-spread",
    ["@babel/transform-runtime", {
      "useESModules": true
    }]
  ],

  "env": {
    "cjs": {
      "presets": [
        ["@babel/preset-env", {
          "modules": "commonjs"
        }]
      ],
      "plugins": [
        // "add-module-exports"
      ]
    },
    "development": {
      "presets": [
        ["@babel/preset-env", {
          "modules": "commonjs"
        }]
      ],
      "plugins": [
        // "add-module-exports"
      ]
    },
    "production": {
      "presets": [
        ["@babel/preset-env", {
          "modules": "commonjs"
        }]
      ],
      "plugins": [
        // "add-module-exports"
      ]
    },
    "test": {
      "presets": [
        ["@babel/preset-env", {
          "useBuiltIns": "entry",
          "modules": "cjs",
          "corejs": "2",
          "targets": {
            "ie": "10",
            "node": true
          }
        }]
      ],
      "plugins": [
          "@babel/transform-runtime"
        // "add-module-exports",
        // ["istanbul", {
        //   "exclude": [
        //     "**/*.spec.js",
        //     "**/node.js"
        //   ]
        // }]
      ]
    }
  }
}
