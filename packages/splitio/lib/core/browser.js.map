{"version":3,"sources":["../../es6/core/browser.js"],"names":[],"mappings":"WAAY,YAAY,CAAC;;AAEzB,IAAI,OAAO,GAAG,OAAO,CAAC,eAAe,CAAC,CAAC;;AAEvC,IAAI,IAAI,GAAG;AACT,UAAQ,oBAAC,kBAAE,EAAkB,mBAAK,oBAA8C;sCAA3B,MAAM;AAAN,YAAM;;;;;AACzD,cAAU,CAAC,YAAM;AACf,QAAE,kBAAI,MAAM,CAAC,CAAC;AACd,YAAK,QAAQ,MAAA,SAAC,EAAE,EAAE,KAAK,SAAK,MAAM,EAAC,CAAC;KACrC,EAAE,KAAK,CAAC,CAAC;GACX;AAED,OAAK,mBAAU;;;uCAAN,IAAI;AAAJ,UAAI;;;AACX,WAAO,OAAO,kBAAI,IAAI,CAAC,CAAC,IAAI,CAAC,UAAA,OAAO,EAAI;AACtC,UAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,aAAa,EAAE;AAC1C,eAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAE,OAAO,CAAC,QAAQ,CAAE,CAAC,CAAC;AAChD,eAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAE,OAAO,CAAC,MAAM,CAAE,CAAC,CAAC;OAC/C;;;AAAA,AAGD,aAAK,QAAQ,MAAA,UAAC,OAAO,EAAE,IAAI,SAAK,IAAI,EAAC,CAAC;;AAEtC,aAAO,OAAO,CAAC;KAChB,CAAC,CAAC;GACJ;CACF,CAAC;;AAEF,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC","file":"browser.js","sourcesContent":["/* @flow */ 'use strict';\n\nlet updater = require('splitio-cache');\n\nlet core = {\n  schedule(fn /*: function */, delay /*: number */, ...params /*:? Array<any> */) {\n    setTimeout(() => {\n      fn(...params);\n      this.schedule(fn, delay, ...params);\n    }, delay);\n  },\n\n  start(...args) {\n    return updater(...args).then(storage => {\n      if (process.env.NODE_ENV === 'development') {\n        console.log(JSON.stringify( storage.segments ));\n        console.log(JSON.stringify( storage.splits ));\n      }\n\n      // fire cache updater each 5 seconds\n      this.schedule(updater, 5000, ...args);\n\n      return storage;\n    });\n  }\n};\n\nmodule.exports = core;\n"]}