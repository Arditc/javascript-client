{"version":3,"sources":["../es6/index.js"],"names":[],"mappings":"WAAY,YAAY,CAAC;;AAEzB,IAAI,IAAI,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC7B,IAAI,GAAG,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,CAAC;;AAEtC,SAAS,QAAQ,CAAC,8BAAgB,gBAA+B;AAC/D,SAAO,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,UAAA,OAAO,EAAI;AAClD,WAAO;;;;;AAIL,UAAI,gBAAC,oBAAM,EAAgB,yBAAW,EAAgB;AACpD,YAAI,KAAK,GAAG,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;;AAE5C,YAAI,KAAK,EAAE;AACT,cAAI,eAAe,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;;AAEzC,aAAG,wBAAsB,WAAW,aAAQ,MAAM,sBAAiB,eAAe,CAAG,CAAC;;AAEtF,iBAAO,eAAe,CAAC;SACxB,MAAM;AACL,aAAG,wBAAsB,WAAW,2BAAwB,CAAC;;AAE7D,iBAAO,KAAK,CAAC;SACd;OACF;KACF,CAAC;GACH,CAAC,CAAC;CACJ;;AAED,MAAM,CAAC,OAAO,GAAG,QAAQ,CAAC","file":"index.js","sourcesContent":["/* @flow */ 'use strict';\n\nlet core = require('./core');\nlet log = require('debug')('splitio');\n\nfunction splitter(authorizationKey /*: string */) /*: Promise */ {\n  return core.start(authorizationKey).then(storage => {\n    return {\n      /**\n       * Evaluates is a given userId is enabled for a given feature.\n       */\n      isOn(userId /*: string */, featureName /*: string */) {\n        let split = storage.splits.get(featureName);\n\n        if (split) {\n          let splitEvaluation = split.isOn(userId);\n\n          log(`[splitio] feature ${featureName} key ${userId} evaluated as ${splitEvaluation}`);\n\n          return splitEvaluation;\n        } else {\n          log(`[splitio] feature ${featureName} is not available yet`);\n\n          return false;\n        }\n      }\n    };\n  });\n}\n\nmodule.exports = splitter;\n"]}