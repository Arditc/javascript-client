{"version":3,"sources":["../../es6/engine/index.spec.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,OAAO,QAAQ,MAAR,CAAP;AACJ,IAAI,SAAS,QAAQ,qBAAR,CAAT;;AAEJ,IAAI,aAAa,QAAQ,yBAAR,CAAb;AACJ,IAAI,iBAAiB,WAAW,KAAX,CAAiB,CAAC;AACrC,aAAW,IAAX;AACA,QAAM,CAAN;CAFoC,EAGnC;AACD,aAAW,SAAX;AACA,QAAM,EAAN;CALoC,CAAjB,CAAjB;;AAQJ,KAAK,iDAAL,EAAwD,kBAAU;AAChE,MAAI,OAAO,SAAP,CAD4D;AAEhE,MAAI,MAAM,qBAAN,CAF4D;;AAIhE,MAAI,YAAY,KAAK,GAAL,EAAZ,CAJ4D;;AAMhE,SAAO,KAAP,CAAa,WAAW,QAAX,CAAoB,IAApB,CACX,OAAO,YAAP,CAAoB,GAApB,EAAyB,IAAzB,EAA+B,cAA/B,CADW,CAAb,EAEG,qCAFH,EANgE;;AAUhE,MAAI,UAAU,KAAK,GAAL,EAAV,CAV4D;;AAYhE,SAAO,OAAP,uBAAmC,CAAC,UAAU,SAAV,CAAD,GAAwB,IAAxB,aAAnC,EAZgE;AAahE,SAAO,GAAP,GAbgE;CAAV,CAAxD;;AAgBA,KAAK,gDAAL,EAAuD,kBAAU;AAC/D,MAAI,OAAO,SAAP,CAD2D;AAE/D,MAAI,MAAM,cAAN,CAF2D;;AAI/D,MAAI,YAAY,KAAK,GAAL,EAAZ,CAJ2D;;AAM/D,SAAO,IAAP,CAAY,WAAW,QAAX,CAAoB,IAApB,CACV,OAAO,YAAP,CAAoB,GAApB,EAAyB,IAAzB,EAA+B,cAA/B,CADU,CAAZ,EAEG,oCAFH,EAN+D;;AAU/D,MAAI,UAAU,KAAK,GAAL,EAAV,CAV2D;;AAY/D,SAAO,OAAP,uBAAmC,CAAC,UAAU,SAAV,CAAD,GAAwB,IAAxB,aAAnC,EAZ+D;AAa/D,SAAO,GAAP,GAb+D;CAAV,CAAvD","file":"index.spec.js","sourcesContent":["'use strict';\n\nlet tape = require('tape');\nlet engine = require('../../../lib/engine');\n\nlet Treatments = require('../../../lib/treatments');\nlet treatmentsMock = Treatments.parse([{\n  treatment: 'on',\n  size: 5\n}, {\n  treatment: 'control',\n  size: 95\n}]);\n\ntape('Engine should evaluate always evaluate to false', assert => {\n  let seed = 467569525;\n  let key = 'aUfEsdPN1twuEjff9Sl';\n\n  let startTime = Date.now();\n\n  assert.false(Treatments.RESERVED.isOn(\n    engine.getTreatment(key, seed, treatmentsMock)\n  ), 'engine correctly evaluated to false');\n\n  let endTime = Date.now();\n\n  assert.comment(`Evaluation takes ${(endTime - startTime) / 1000} seconds`);\n  assert.end();\n});\n\ntape('Engine should evaluate always evaluate to true', assert => {\n  let seed = 467569525;\n  let key = 'fXvNwWFb7SXp';\n\n  let startTime = Date.now();\n\n  assert.true(Treatments.RESERVED.isOn(\n    engine.getTreatment(key, seed, treatmentsMock)\n  ), 'engine correctly evaluated to true');\n\n  let endTime = Date.now();\n\n  assert.comment(`Evaluation takes ${(endTime - startTime) / 1000} seconds`);\n  assert.end();\n});\n"]}