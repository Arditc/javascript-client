{"version":3,"sources":["../../es6/transforms/matcherGroup.js"],"names":[],"mappings":"WAAY,YAAY,CAAC;;AAEzB,IAAI,YAAY,GAAG,OAAO,CAAC,mBAAmB,CAAC,CAAC;;AAEhD,IAAI,gBAAgB,GAAG,OAAO,CAAC,WAAW,CAAC,CAAC;AAC5C,IAAI,kBAAkB,GAAG,OAAO,CAAC,aAAa,CAAC;;;;;;;;;;;;AAAC,AAYhD,SAAS,SAAS,CAAC,0BAAY,mBAAkC;8BAK3D,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC;MAH1B,WAAW,yBAAX,WAAW;MACoB,aAAa,yBAA5C,6BAA6B;MACP,eAAe,yBAArC,oBAAoB;;AAGtB,MAAI,IAAI,GAAG,YAAY,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;AAC5C,MAAI,KAAK,YAAA,CAAC;;AAEV,MAAI,IAAI,KAAK,YAAY,CAAC,IAAI,CAAC,GAAG,EAAE;AAClC,SAAK,GAAG,SAAS,CAAC;GACnB,MAAM,IAAI,IAAI,KAAK,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE;AAC7C,SAAK,GAAG,gBAAgB,CAAC,aAAa,CAAC,CAAC;GACzC,MAAM,IAAI,IAAI,KAAK,YAAY,CAAC,IAAI,CAAC,SAAS,EAAE;AAC/C,SAAK,GAAG,kBAAkB,CAAC,eAAe,CAAC,CAAC;GAC7C;;AAED,SAAO;AACL,QAAI,EAAJ,IAAI;AACJ,SAAK,EAAL,KAAK;GACN,CAAC;CACH;;AAED,MAAM,CAAC,OAAO,GAAG,SAAS,CAAC","file":"matcherGroup.js","sourcesContent":["/* @flow */ 'use strict';\n\nlet matcherTypes = require('../matchers/types');\n\nlet segmentTransform = require('./segment');\nlet whitelistTransform = require('./whitelist');\n\n/*::\n  type MatcherDTO {\n    type: Symbol,\n    value: undefined | string | Array<string>\n  }\n*/\n\n/**\n * Flat the complex matcherGroup structure into something handy.\n */\nfunction transform(matcherGroup /*: object */) /*: MatcherDTO */ {\n  let {\n    matcherType,\n    userDefinedSegmentMatcherData: segmentObject,\n    whitelistMatcherData: whitelistObject\n  } = matcherGroup.matchers[0];\n\n  let type = matcherTypes.mapper(matcherType);\n  let value;\n\n  if (type === matcherTypes.enum.ALL) {\n    value = undefined;\n  } else if (type === matcherTypes.enum.SEGMENT) {\n    value = segmentTransform(segmentObject);\n  } else if (type === matcherTypes.enum.WHITELIST) {\n    value = whitelistTransform(whitelistObject);\n  }\n\n  return {\n    type,\n    value\n  };\n}\n\nmodule.exports = transform;\n"]}