{"version":3,"sources":["../es6/index.js"],"names":[],"mappings":"AAAA,YAAY;;;;;;;;;;;AAAC;;;;;;AAWb,IAAI,MAAM,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAC;;IAErC,KAAK;AAET,WAFI,KAAK,CAEG,QAAQ,EAAE,SAAS,EAAE,QAAQ,EAAE;0BAFvC,KAAK;;AAGP,QAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;AACzB,QAAI,CAAC,SAAS,GAAG,SAAS,CAAC;AAC3B,QAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;GAC1B;;eANG,KAAK;;6BAQA;AACP,aAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;KAC3B;;;kCAEa;AACZ,aAAO,IAAI,CAAC,QAAQ,CAAC;KACtB;;;yBAEI,GAAG,EAAE;AACR,aAAO,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;KAChD;;;0BAEY,kBAAkB,EAAE;UAC1B,UAAU,GAAiB,kBAAkB,CAA7C,UAAU;;UAAK,QAAQ,4BAAI,kBAAkB;;oBACtB,MAAM,CAAC,UAAU,CAAC;;UAAzC,SAAS,WAAT,SAAS;UAAE,QAAQ,WAAR,QAAQ;;AAExB,aAAO,IAAI,KAAK,CAAC,QAAQ,EAAE,SAAS,EAAE,QAAQ,CAAC,CAAC;KACjD;;;SAzBG,KAAK;;;AA6BX,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC","file":"index.js","sourcesContent":["'use strict';\n\n/**\n@TODO\n\n1- `getKey()` is actually `getFeatureName()` which is unique in the context of\n   a given SPLIT_TOKEN. This key is used inside a data structure used for fast\n   retrival. Evaluate if make sense to rename it or not.\n\n**/\n\nlet parser = require('./parser/condition');\n\nclass Split {\n\n  constructor(baseInfo, evaluator, segments) {\n    this.baseInfo = baseInfo;\n    this.evaluator = evaluator;\n    this.segments = segments;\n  }\n\n  getKey() {\n    return this.baseInfo.name;\n  }\n\n  getSegments() {\n    return this.segments;\n  }\n\n  isOn(key) {\n    return this.evaluator(key, this.baseInfo.seed);\n  }\n\n  static parse(splitFlatStructure) {\n    let {conditions, ...baseInfo} = splitFlatStructure;\n    let {evaluator, segments} = parser(conditions);\n\n    return new Split(baseInfo, evaluator, segments);\n  }\n\n}\n\nmodule.exports = Split;\n"]}