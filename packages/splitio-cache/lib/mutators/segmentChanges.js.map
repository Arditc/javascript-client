{"version":3,"sources":["../../es6/mutators/segmentChanges.js"],"names":[],"mappings":";;AAOA,SAAS,uBAAT,OAAsF;MAApD,iBAAoD;MAA9C,mBAA8C;MAAvC,uBAAuC;;AACpF,WAAS,gBAAT,CAA0B,cAA1B,EAAoD,cAApD,EAAoF;AAClF,QAAI,oBAAJ;;;AADkF,QAI9E,MAAM,MAAN,KAAiB,CAAjB,IAAsB,QAAQ,MAAR,KAAmB,CAAnB,EAAsB;AAC9C,aAD8C;KAAhD;;AAIA,eAAW,eAAe,IAAf,CAAX,CARkF;;AAUlF,UAAM,OAAN,CAAc;aAAW,SAAS,GAAT,CAAa,OAAb;KAAX,CAAd,CAVkF;AAWlF,YAAQ,OAAR,CAAgB;aAAW,SAAS,MAAT,CAAgB,OAAhB;KAAX,CAAhB,CAXkF;;AAalF,mBAAe,IAAf,EAAqB,QAArB,EAbkF;GAApF;;AAgBA,SAAO,gBAAP,CAjBoF;CAAtF;;AAoBA,OAAO,OAAP,GAAiB,uBAAjB","file":"segmentChanges.js","sourcesContent":["\ntype SegmentChangesDTO = {\n  name: string,\n  added: Array<string>,\n  removed: Array<string>\n};\n\nfunction SegmentMutationsFactory({name, added, removed} :SegmentChangesDTO) :Function {\n  function segmentMutations(storageAccesor :Function, storageMutator :Function) :void {\n    let segments;\n\n    // nothing to do here\n    if (added.length === 0 && removed.length === 0) {\n      return;\n    }\n\n    segments = storageAccesor(name);\n\n    added.forEach(segment => segments.add(segment));\n    removed.forEach(segment => segments.delete(segment));\n\n    storageMutator(name, segments);\n  }\n\n  return segmentMutations;\n}\n\nmodule.exports = SegmentMutationsFactory;\n"]}