{"version":3,"sources":["../../es6/updater/mySegments.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA,IAAM,MAAM,QAAQ,OAAR,EAAiB,uBAAjB,CAAN;;AAEN,IAAM,uBAAuB,QAAQ,kBAAR,CAAvB;AACN,IAAM,UAAU,QAAQ,YAAR,CAAV;;AAEN,SAAS,iBAAT,QAA6D;MAAjC,0CAAiC;MAAf,gBAAe;;;;;;;;;;AAC3D,YAAQ,0CAAR,EAD2D;;cAGpD,qBAAqB,EAAC,kCAAD,EAAmB,QAAnB,EAArB,EACI,IADJ,CACS;WAAmB,gBAAgB,QAAQ,QAAR,CAAiB,MAAjB;GAAnC,CADT,CAEI,IAFJ,CAES;WAAM;GAAN,GAL2C;CAA7D;;AAQA,OAAO,OAAP,GAAiB,iBAAjB","file":"mySegments.js","sourcesContent":["const log = require('debug')('splitio-cache:updater');\n\nconst mySegmentsDataSource = require('../ds/mySegments');\nconst storage = require('../storage');\n\nfunction mySegmentsUpdater({authorizationKey, key}) :Promise {\n  log(`[${authorizationKey}] Updating mySegments`);\n\n  return mySegmentsDataSource({authorizationKey, key})\n            .then(segmentsMutator => segmentsMutator(storage.segments.update))\n            .then(() => storage);\n}\n\nmodule.exports = mySegmentsUpdater;\n"]}