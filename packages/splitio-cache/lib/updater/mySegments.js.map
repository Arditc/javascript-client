{"version":3,"sources":["../../es6/updater/mySegments.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAIA,IAAM,MAAM,QAAQ,OAAR,EAAiB,uBAAjB,CAAN;;AAEN,IAAM,uBAAuB,QAAQ,kBAAR,CAAvB;;AAEN,IAAM,UAAU,QAAQ,YAAR,CAAV;AACN,IAAM,kBAAkB,QAAQ,QAAR;AACxB,IAAM,SAAS,gBAAgB,MAAhB,CAAuB,IAAvB,CAA4B,eAA5B,CAAT;;AAEN,SAAS,iBAAT,QAA8D;MAAlC,0CAAkC;MAAhB,gBAAgB;;;SAAT;;;;;GAAS;;AAC5D,YAAQ,0CAAR,EAD4D;;cAGrD,qBAAqB,EAAC,kCAAD,EAAmB,QAAnB,EAArB,EACI,IADJ,CACS;WAAmB,gBAAgB,MAAhB;GAAnB,CADT,CAEI,IAFJ,CAES;WAAM;GAAN,GAL4C;CAA9D;;AAQA,OAAO,OAAP,GAAiB,iBAAjB","file":"mySegments.js","sourcesContent":["import type {\n  Thenable\n} from '../types';\n\nconst log = require('debug')('splitio-cache:updater');\n\nconst mySegmentsDataSource = require('../ds/mySegments');\n\nconst storage = require('../storage');\nconst segmentsStorage = storage.segments;\nconst update = segmentsStorage.update.bind(segmentsStorage);\n\nfunction mySegmentsUpdater({authorizationKey, key}) :Thenable {\n  log(`[${authorizationKey}] Updating mySegments`);\n\n  return mySegmentsDataSource({authorizationKey, key})\n            .then(segmentsMutator => segmentsMutator(update))\n            .then(() => storage);\n}\n\nmodule.exports = mySegmentsUpdater;\n"]}