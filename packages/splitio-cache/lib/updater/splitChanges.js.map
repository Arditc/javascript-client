{"version":3,"sources":["../../es6/updater/splitChanges.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA,IAAM,MAAM,QAAQ,OAAR,EAAiB,uBAAjB,CAAN;;AAEN,IAAM,yBAAyB,QAAQ,oBAAR,CAAzB;;AAEN,IAAM,UAAU,QAAQ,YAAR,CAAV;AACN,IAAM,gBAAgB,QAAQ,MAAR;AACtB,IAAM,SAAS,cAAc,MAAd,CAAqB,IAArB,CAA0B,aAA1B,CAAT;;AAEN,SAAS,mBAAT,QAA0D;MAA5B,0CAA4B;;;;;;;;;;AACxD,YAAQ,4CAAR,EADwD;;cAGjD,uBAAuB,EAAC,kCAAD,EAAvB,EACI,IADJ,CACS;WAAiB,cAAc,OAAd,EAAuB,MAAvB;GAAjB,CADT,CAEI,IAFJ,CAES;WAAM;GAAN,GALwC;CAA1D;;AAQA,OAAO,OAAP,GAAiB,mBAAjB","file":"splitChanges.js","sourcesContent":["const log = require('debug')('splitio-cache:updater');\n\nconst splitChangesDataSource = require('../ds/splitChanges');\n\nconst storage = require('../storage');\nconst splitsStorage = storage.splits;\nconst update = splitsStorage.update.bind(splitsStorage);\n\nfunction splitChangesUpdater({authorizationKey}) :Promise {\n  log(`[${authorizationKey}] Updating splitChanges`);\n\n  return splitChangesDataSource({authorizationKey})\n            .then(splitsMutator => splitsMutator(storage, update))\n            .then(() => storage);\n}\n\nmodule.exports = splitChangesUpdater;\n"]}