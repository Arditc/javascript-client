{"version":3,"sources":["../../es6/updater/splitChanges.js"],"names":[],"mappings":";;AAIA,IAAM,MAAM,QAAQ,OAAR,EAAiB,uBAAjB,CAAN;;AAEN,IAAM,yBAAyB,QAAQ,oBAAR,CAAzB;;AAEN,IAAM,UAAU,QAAQ,YAAR,CAAV;AACN,IAAM,gBAAgB,QAAQ,MAAR;AACtB,IAAM,SAAS,cAAc,MAAd,CAAqB,IAArB,CAA0B,aAA1B,CAAT;;AAEN,SAAS,mBAAT,OAA2D;MAA7B,yCAA6B;;AACzD,YAAQ,4CAAR,EADyD;;AAGzD,SAAO,uBAAuB,EAAC,kCAAD,EAAvB,EACI,IADJ,CACS;WAAiB,cAAc,OAAd,EAAuB,MAAvB;GAAjB,CADT,CAEI,IAFJ,CAES;WAAM;GAAN,CAFhB,CAHyD;CAA3D;;AAQA,OAAO,OAAP,GAAiB,mBAAjB","file":"splitChanges.js","sourcesContent":["import type {\n  Thenable\n} from '../types';\n\nconst log = require('debug')('splitio-cache:updater');\n\nconst splitChangesDataSource = require('../ds/splitChanges');\n\nconst storage = require('../storage');\nconst splitsStorage = storage.splits;\nconst update = splitsStorage.update.bind(splitsStorage);\n\nfunction splitChangesUpdater({authorizationKey}) :Thenable {\n  log(`[${authorizationKey}] Updating splitChanges`);\n\n  return splitChangesDataSource({authorizationKey})\n            .then(splitsMutator => splitsMutator(storage, update))\n            .then(() => storage);\n}\n\nmodule.exports = splitChangesUpdater;\n"]}