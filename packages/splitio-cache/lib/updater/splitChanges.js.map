{"version":3,"sources":["../../es6/updater/splitChanges.js"],"names":[],"mappings":"AAAY;;AAEZ,IAAI,MAAM,QAAQ,OAAR,EAAiB,uBAAjB,CAAN;;AAEJ,IAAI,yBAAyB,QAAQ,oBAAR,CAAzB;AACJ,IAAI,UAAU,QAAQ,YAAR,CAAV;;AAEJ,SAAS,mBAAT;cAEkB;MADhB,yCACgB;;AAChB,YAAQ,4CAAR,EADgB;;AAGhB,SAAO,uBAAuB,EAAC,kCAAD,EAAvB,EACI,IADJ,CACS;WAAiB,cAAc,QAAQ,MAAR,CAAe,MAAf;GAA/B,CADT,CAEI,IAFJ,CAES;WAAM;GAAN,CAFhB,CAHgB;CAFlB;;AAUA,OAAO,OAAP,GAAiB,mBAAjB","file":"splitChanges.js","sourcesContent":["/* @flow */ 'use strict';\n\nlet log = require('debug')('splitio-cache:updater');\n\nlet splitChangesDataSource = require('../ds/splitChanges');\nlet storage = require('../storage');\n\nfunction splitChangesUpdater({\n  authorizationKey /*: string */\n}) /*: Promise */ {\n  log(`[${authorizationKey}] Updating splitChanges`);\n\n  return splitChangesDataSource({authorizationKey})\n            .then(splitsMutator => splitsMutator(storage.splits.update))\n            .then(() => storage);\n}\n\nmodule.exports = splitChangesUpdater;\n"]}