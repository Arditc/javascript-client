{"version":3,"sources":["../../es6/updater/splitChanges.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA,IAAM,MAAM,QAAQ,OAAR,EAAiB,uBAAjB,CAAN;;AAEN,IAAM,yBAAyB,QAAQ,oBAAR,CAAzB;AACN,IAAM,UAAU,QAAQ,YAAR,CAAV;;AAEN,SAAS,mBAAT,QAA0D;MAA5B,0CAA4B;;;;;;;;;;AACxD,YAAQ,4CAAR,EADwD;;cAGjD,uBAAuB,EAAC,kCAAD,EAAvB,EACI,IADJ,CACS;WAAiB,cAAc,QAAQ,MAAR,CAAe,MAAf;GAA/B,CADT,CAEI,IAFJ,CAES;WAAM;GAAN,GALwC;CAA1D;;AAQA,OAAO,OAAP,GAAiB,mBAAjB","file":"splitChanges.js","sourcesContent":["const log = require('debug')('splitio-cache:updater');\n\nconst splitChangesDataSource = require('../ds/splitChanges');\nconst storage = require('../storage');\n\nfunction splitChangesUpdater({authorizationKey}) :Promise {\n  log(`[${authorizationKey}] Updating splitChanges`);\n\n  return splitChangesDataSource({authorizationKey})\n            .then(splitsMutator => splitsMutator(storage.splits.update))\n            .then(() => storage);\n}\n\nmodule.exports = splitChangesUpdater;\n"]}